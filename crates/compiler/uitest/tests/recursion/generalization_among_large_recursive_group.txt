# +opt infer:print_variables

app "test" provides [main] to "./platform"

f = \{} ->
#^{-1} <3287><120>{} -<123>[[f(1)]]<125>-> <119>[Ok <3296>{}]<80>*
    when g {} is
#        ^ <3277><3296>{} -<3285>[[g(2)]]<125>-> <71>[Ok <3296>{}]<104>*
        _ -> Ok {}

g = \{} ->
#^{-1} <3277><3296>{} -<3285>[[g(2)]]<125>-> <71>[Ok <3296>{}]<104>*
    when h {} is
#        ^ <3282><3296>{} -<3290>[[h(3)]]<125>-> <95>[Ok <3296>{}]<128>*
        _ -> Ok {}

h = \{} ->
#^{-1} <3282><3296>{} -<3290>[[h(3)]]<125>-> <95>[Ok <3296>{}]<128>*
    when f {} is
#        ^ <3287><120>{} -<123>[[f(1)]]<125>-> <119>[Ok <3296>{}]<80>*
        _ -> Ok {}

main = f {}
#      ^ <3298><138>{} -<141>[[f(1)]]<143>-> <137>[Ok <3296>{}]<3297>w_a
