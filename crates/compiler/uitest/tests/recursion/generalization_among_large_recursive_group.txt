# +opt infer:print_variables

app "test" provides [main] to "./platform"

f = \{} ->
#^{-1} <2915><113>{} -<116>[[f(1)]]-> <112>[Ok <2923>{}]<76>*
    when g {} is
#        ^ <2905><2923>{} -<2913>[[g(2)]]-> <68>[Ok <2923>{}]<98>*
        _ -> Ok {}

g = \{} ->
#^{-1} <2905><2923>{} -<2913>[[g(2)]]-> <68>[Ok <2923>{}]<98>*
    when h {} is
#        ^ <2910><2923>{} -<2918>[[h(3)]]-> <90>[Ok <2923>{}]<120>*
        _ -> Ok {}

h = \{} ->
#^{-1} <2910><2923>{} -<2918>[[h(3)]]-> <90>[Ok <2923>{}]<120>*
    when f {} is
#        ^ <2915><113>{} -<116>[[f(1)]]-> <112>[Ok <2923>{}]<76>*
        _ -> Ok {}

main = f {}
#      ^ <2925><129>{} -<132>[[f(1)]]-> <134>[Ok <2923>{}]<2924>w_a
